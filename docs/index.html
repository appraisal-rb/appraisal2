<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  File: README
  
    &mdash; Documentation by YARD 0.9.37
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" />

  <link rel="stylesheet" href="css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "README";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: README</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><div id='filecontents'><p align="center">
  <a href="https://discord.gg/3qme4XHNKN" target="_blank" rel="noopener">
    <img width="120px" src="https://github.com/galtzo-floss/shields-badge/raw/main/docs/images/logo/galtzo-floss-logos-original.svg?raw=true" alt="Galtzo.com Logo by Aboling0, CC BY-SA 4.0">
  </a>
  <a href="https://appraisal2.galtzo.com" target="_blank" rel="noopener">
    <img width="120px" src="https://github.com/appraisal-rb/appraisal2/raw/main/docs/images/logo/LoupeAppraiser.svg?raw=true" alt="appraisal-rb Logo by Aboling0, CC BY-SA 4.0">
  </a>
  <a href="https://www.ruby-lang.org/" target="_blank" rel="noopener">
    <img width="120px" src="https://github.com/galtzo-floss/shields-badge/raw/main/docs/images/logo/ruby-logo-198px.svg?raw=true" alt="Yukihiro Matsumoto, Ruby Visual Identity Team, CC BY-SA 2.5">
  </a>
</p>

<h1 id="Ô∏è-appraisal2">üîçÔ∏è Appraisal2</h1>

<blockquote>
  <p>Find out what my gems are worth!</p>
</blockquote>

<ul>
  <li>You, possibly</li>
</ul>

<p><a href="https://rubygems.org/gems/appraisal2"><img src="https://img.shields.io/gem/v/appraisal2.svg" alt="Version"></a> <a href="https://opensource.org/licenses/MIT"><img src="https://img.shields.io/badge/License-MIT-259D6C.svg" alt="License: MIT"></a> <a href="https://rubygems.org/gems/appraisal2"><img src="https://img.shields.io/gem/rd/appraisal2.svg" alt="Downloads Rank"></a> <a href="https://www.codetriage.com/appraisal-rb/appraisal2"><img src="https://www.codetriage.com/appraisal-rb/appraisal2/badges/users.svg" alt="Open Source Helpers"></a> <a href="https://depfu.com/github/appraisal-rb/appraisal2?project_id=67033"><img src="https://badges.depfu.com/badges/b5344eec8b60c9e72bd9145ff53cd07b/count.svg" alt="Depfu"></a> <a href="https://coveralls.io/github/appraisal-rb/appraisal2?branch=main"><img src="https://coveralls.io/repos/github/appraisal-rb/appraisal2/badge.svg?branch=main" alt="Coveralls Test Coverage"></a> <a href="https://qlty.sh/gh/appraisal-rb/projects/appraisal2/metrics/code?sort=coverageRating"><img src="https://qlty.sh/gh/appraisal-rb/projects/appraisal2/coverage.svg" alt="QLTY Test Coverage"></a> <a href="https://qlty.sh/gh/appraisal-rb/projects/appraisal2"><img src="https://qlty.sh/gh/appraisal-rb/projects/appraisal2/maintainability.svg" alt="QLTY Maintainability"></a> <a href="https://github.com/appraisal-rb/appraisal2/actions/workflows/heads.yml"><img src="https://github.com/appraisal-rb/appraisal2/actions/workflows/heads.yml/badge.svg" alt="CI Heads"></a> <a href="https://github.com/appraisal-rb/appraisal2/actions/workflows/current.yml"><img src="https://github.com/appraisal-rb/appraisal2/actions/workflows/current.yml/badge.svg" alt="CI Current"></a> <a href="https://github.com/appraisal-rb/appraisal2/actions/workflows/coverage.yml"><img src="https://github.com/appraisal-rb/appraisal2/actions/workflows/coverage.yml/badge.svg" alt="CI Test Coverage"></a> <a href="https://github.com/appraisal-rb/appraisal2/actions/workflows/style.yml"><img src="https://github.com/appraisal-rb/appraisal2/actions/workflows/style.yml/badge.svg" alt="CI Style"></a></p>

<hr>

<p><a href="https://liberapay.com/pboling/donate"><img src="https://img.shields.io/liberapay/goal/pboling.svg?logo=liberapay" alt="Liberapay Goal Progress"></a> <a href="https://github.com/sponsors/pboling"><img src="https://img.shields.io/badge/Sponsor_Me!-pboling.svg?style=social&amp;logo=github" alt="Sponsor Me on Github"></a> <a href="https://www.buymeacoffee.com/pboling"><img src="https://img.shields.io/badge/buy_me_a_coffee-%E2%9C%93-yellow.svg?style=flat" alt="Buy me a coffee"></a> <a href="https://polar.sh/pboling"><img src="https://img.shields.io/badge/polar-donate-yellow.svg" alt="Donate on Polar"></a> <a href="https://ko-fi.com/O5O86SNP4"><img src="https://img.shields.io/badge/a_more_different_coffee-%E2%9C%93-yellow.svg" alt="Donate to my FLOSS or refugee efforts at ko-fi.com"></a> <a href="https://patreon.com/galtzo"><img src="https://img.shields.io/badge/patreon-donate-yellow.svg" alt="Donate to my FLOSS or refugee efforts using Patreon"></a></p>

<h2 id="-synopsis">üåª Synopsis</h2>

<p>Appraisal2 integrates with bundler and rake to test your library against<br>
different versions of dependencies in repeatable scenarios called ‚Äúappraisals.‚Äù<br>
Appraisal2 is designed to make it easy to check for regressions in your library<br>
without interfering with day-to-day development using Bundler.</p>

<p>Appraisal2 is a hard fork of the venerable appraisal gem,<br>
which thoughtbot maintained for many years.<br>
Many thanks to <a href="https://github.com/thoughtbot/">thoughtbot</a>,<br>
and <a href="https://github.com/jferris">Joe Ferris</a>, the original author!</p>

<p>Appraisal2 adds:</p>

<ul>
  <li>support for <code>eval_gemfile</code>
</li>
  <li>support for Ruby 1.8, 1.9, 2.0, 2.1, 2.2, 2.3, 2.4, 2.5, 2.6 (all removed, or planned-to-be, in thoughtbot‚Äôs <code>appraisal</code>)
    <ul>
      <li>NOTE: The <a href="https://github.com/ruby/setup-ruby">setup-ruby GH Action</a> only ships support for Ruby 2.3+, so older Rubies are no longer tested in CI. Compatibility is assumed thanks to <a href="https://github.com/rubocop-lts/rubocop-lts"><img src="https://img.shields.io/badge/code_style_%26_linting-rubocop--lts-34495e.svg?plastic&amp;logo=ruby&amp;logoColor=white" alt="Enforced Code Style Linter"></a> enforcing the syntax for the oldest supported Ruby, which is Ruby v1.8. File a bug if you find something broken.</li>
    </ul>
  </li>
  <li>Support for JRuby 9.4+</li>
  <li>updated and improved documentation</li>
  <li>many other fixes and improvements. See <a href="file.CHANGELOG.html" title="CHANGELOG">CHANGELOG</a> for details.</li>
</ul>

<h2 id="-info-you-can-shake-a-stick-at">üí° Info you can shake a stick at</h2>

<table>
  <thead>
    <tr>
      <th>Tokens to Remember</th>
      <th>
<a href="https://rubygems.org/gems/appraisal2"><img src="https://img.shields.io/badge/name-appraisal2-brightgreen.svg?style=flat&amp;logo=rubygems&amp;logoColor=red" alt="Gem name"></a> <a href="https://github.com/appraisal-rb/appraisal2"><img src="https://img.shields.io/badge/namespace-Appraisal-brightgreen.svg?style=flat&amp;logo=ruby&amp;logoColor=white" alt="Gem namespace"></a>
</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Works with JRuby</td>
      <td>
<a href="https://github.com/appraisal-rb/appraisal2/actions/workflows/jruby-9-4.yml"><img src="https://img.shields.io/badge/JRuby-9.4-FBE742?style=for-the-badge&amp;logo=ruby&amp;logoColor=red" alt="JRuby 9.4 Compat"></a> <a href="https://github.com/appraisal-rb/appraisal2/actions/workflows/current.yml"><img src="https://img.shields.io/badge/JRuby-current-FBE742?style=for-the-badge&amp;logo=ruby&amp;logoColor=green" alt="JRuby 10.0 Compat"></a> <a href="https://github.com/appraisal-rb/appraisal2/actions/workflows/heads.yml"><img src="https://img.shields.io/badge/JRuby-HEAD-FBE742?style=for-the-badge&amp;logo=ruby&amp;logoColor=blue" alt="JRuby HEAD Compat"></a>
</td>
    </tr>
    <tr>
      <td>Works with Truffle Ruby</td>
      <td><a href="https://github.com/appraisal-rb/appraisal2/actions/workflows/current.yml"><img src="https://img.shields.io/badge/Truffle_Ruby-current-34BCB1?style=for-the-badge&amp;logo=ruby&amp;logoColor=green" alt="Truffle Ruby 24.1 Compat"></a></td>
    </tr>
    <tr>
      <td>Works with MRI Ruby 3</td>
      <td>
<a href="https://github.com/appraisal-rb/appraisal2/actions/workflows/ruby-3-0.yml"><img src="https://img.shields.io/badge/Ruby-3.0-CC342D?style=for-the-badge&amp;logo=ruby&amp;logoColor=white" alt="Ruby 3.0 Compat"></a> <a href="https://github.com/appraisal-rb/appraisal2/actions/workflows/ruby-3-1.yml"><img src="https://img.shields.io/badge/Ruby-3.1-CC342D?style=for-the-badge&amp;logo=ruby&amp;logoColor=white" alt="Ruby 3.1 Compat"></a> <a href="https://github.com/appraisal-rb/appraisal2/actions/workflows/ruby-3-2.yml"><img src="https://img.shields.io/badge/Ruby-3.2-CC342D?style=for-the-badge&amp;logo=ruby&amp;logoColor=white" alt="Ruby 3.2 Compat"></a> <a href="https://github.com/appraisal-rb/appraisal2/actions/workflows/ruby-3-3.yml"><img src="https://img.shields.io/badge/Ruby-3.3-CC342D?style=for-the-badge&amp;logo=ruby&amp;logoColor=white" alt="Ruby 3.3 Compat"></a> <a href="https://github.com/appraisal-rb/appraisal2/actions/workflows/current.yml"><img src="https://img.shields.io/badge/Ruby-current-CC342D?style=for-the-badge&amp;logo=ruby&amp;logoColor=green" alt="Ruby 3.4 Compat"></a> <a href="https://github.com/appraisal-rb/appraisal2/actions/workflows/heads.yml"><img src="https://img.shields.io/badge/Ruby-HEAD-CC342D?style=for-the-badge&amp;logo=ruby&amp;logoColor=blue" alt="Ruby HEAD Compat"></a>
</td>
    </tr>
    <tr>
      <td>Works with MRI Ruby 2</td>
      <td>
<a href="https://github.com/appraisal-rb/appraisal2/actions/workflows/ruby-2-3.yml"><img src="https://img.shields.io/badge/Ruby-2.3-DF00CA?style=for-the-badge&amp;logo=ruby&amp;logoColor=white" alt="Ruby 2.3 Compat"></a> <a href="https://github.com/appraisal-rb/appraisal2/actions/workflows/ruby-2-4.yml"><img src="https://img.shields.io/badge/Ruby-2.4-DF00CA?style=for-the-badge&amp;logo=ruby&amp;logoColor=white" alt="Ruby 2.4 Compat"></a> <a href="https://github.com/appraisal-rb/appraisal2/actions/workflows/ruby-2-5.yml"><img src="https://img.shields.io/badge/Ruby-2.5-DF00CA?style=for-the-badge&amp;logo=ruby&amp;logoColor=white" alt="Ruby 2.5 Compat"></a> <a href="https://github.com/appraisal-rb/appraisal2/actions/workflows/ruby-2-6.yml"><img src="https://img.shields.io/badge/Ruby-2.6-DF00CA?style=for-the-badge&amp;logo=ruby&amp;logoColor=white" alt="Ruby 2.6 Compat"></a> <a href="https://github.com/appraisal-rb/appraisal2/actions/workflows/ruby-2-7.yml"><img src="https://img.shields.io/badge/Ruby-2.7-DF00CA?style=for-the-badge&amp;logo=ruby&amp;logoColor=white" alt="Ruby 2.7 Compat"></a>
</td>
    </tr>
    <tr>
      <td>Source</td>
      <td>
<a href="https://gitlab.com/appraisal-rb/appraisal2/"><img src="https://img.shields.io/badge/GitLab-FBA326?style=for-the-badge&amp;logo=Gitlab&amp;logoColor=orange" alt="Source on GitLab.com"></a> <a href="https://codeberg.org/appraisal-rb/appraisal2"><img src="https://img.shields.io/badge/CodeBerg-4893CC?style=for-the-badge&amp;logo=CodeBerg&amp;logoColor=blue" alt="Source on CodeBerg.org"></a> <a href="https://github.com/appraisal-rb/appraisal2"><img src="https://img.shields.io/badge/GitHub-238636?style=for-the-badge&amp;logo=Github&amp;logoColor=green" alt="Source on Github.com"></a> <a href="https://www.youtube.com/watch?v=dQw4w9WgXcQ"><img src="https://img.shields.io/badge/KLOC-1.186-FFDD67.svg?style=for-the-badge&amp;logo=YouTube&amp;logoColor=blue" alt="The best SHA: dQw4w9WgXcQ!"></a>
</td>
    </tr>
    <tr>
      <td>Documentation</td>
      <td>
<a href="http://rubydoc.info/gems/appraisal2"><img src="https://img.shields.io/badge/RubyDoc-Current_Release-943CD2?style=for-the-badge&amp;logo=readthedocs&amp;logoColor=white" alt="Current release on RubyDoc.info"></a> <a href="https://appraisal2.galtzo.com"><img src="https://img.shields.io/badge/YARD_on_Galtzo.com-HEAD-943CD2?style=for-the-badge&amp;logo=readthedocs&amp;logoColor=white" alt="YARD on Galtzo.com"></a> <a href="http://www.railsbling.com/tags/appraisal2"><img src="https://img.shields.io/badge/blog-railsbling-0093D0.svg?style=for-the-badge&amp;logo=rubyonrails&amp;logoColor=orange" alt="BDFL Blog"></a> <a href="https://gitlab.com/appraisal-rb/appraisal2/-/wikis/home"><img src="https://img.shields.io/badge/wiki-examples-943CD2.svg?style=for-the-badge&amp;logo=Wiki&amp;logoColor=white" alt="Wiki"></a>
</td>
    </tr>
    <tr>
      <td>Compliance</td>
      <td>
<a href="https://opensource.org/licenses/MIT"><img src="https://img.shields.io/badge/License-MIT-259D6C.svg" alt="License: MIT"></a> <a href="https://www.ilo.org/declaration/lang--en/index.htm"><img src="https://img.shields.io/badge/ILO_Fundamental_Principles-%E2%9C%93-259D6C.svg?style=flat" alt="üìÑilo-declaration-img"></a> <a href="file.SECURITY.html" title="&lt;img src=&quot;https://img.shields.io/badge/security-policy-259D6C.svg?style=flat&quot; alt=&quot;Security Policy&quot;&gt;"><img src="https://img.shields.io/badge/security-policy-259D6C.svg?style=flat" alt="Security Policy"></a> <a href="file.CODE_OF_CONDUCT.html" title="&lt;img src=&quot;https://img.shields.io/badge/Contributor_Covenant-2.1-259D6C.svg&quot; alt=&quot;Contributor Covenant 2.1&quot;&gt;"><img src="https://img.shields.io/badge/Contributor_Covenant-2.1-259D6C.svg" alt="Contributor Covenant 2.1"></a> <a href="https://semver.org/spec/v2.0.0.html"><img src="https://img.shields.io/badge/semver-2.0.0-259D6C.svg?style=flat" alt="SemVer 2.0.0"></a>
</td>
    </tr>
    <tr>
      <td>Style</td>
      <td>
<a href="https://github.com/rubocop-lts/rubocop-lts"><img src="https://img.shields.io/badge/code_style_%26_linting-rubocop--lts-34495e.svg?plastic&amp;logo=ruby&amp;logoColor=white" alt="Enforced Code Style Linter"></a> <a href="https://keepachangelog.com/en/1.0.0/"><img src="https://img.shields.io/badge/keep--a--changelog-1.0.0-34495e.svg?style=flat" alt="Keep-A-Changelog 1.0.0"></a> <a href="https://gitmoji.dev"><img src="https://img.shields.io/badge/gitmoji_commits-%20%F0%9F%98%9C%20%F0%9F%98%8D-34495e.svg?style=flat-square" alt="Gitmoji Commits"></a>
</td>
    </tr>
    <tr>
      <td>Support</td>
      <td>
<a href="https://discord.gg/3qme4XHNKN"><img src="https://img.shields.io/discord/1373797679469170758?style=for-the-badge" alt="Live Chat on Discord"></a> <a href="https://www.upwork.com/freelancers/~014942e9b056abdf86?mp_source=share"><img src="https://img.shields.io/badge/UpWork-13544E?style=for-the-badge&amp;logo=Upwork&amp;logoColor=white" alt="Get help from me on Upwork"></a> <a href="https://www.codementor.io/peterboling?utm_source=github&amp;utm_medium=button&amp;utm_term=peterboling&amp;utm_campaign=github"><img src="https://img.shields.io/badge/CodeMentor-Get_Help-1abc9c?style=for-the-badge&amp;logo=CodeMentor&amp;logoColor=white" alt="Get help from me on Codementor"></a>
</td>
    </tr>
    <tr>
      <td>Enterprise Support</td>
      <td>
<a href="https://tidelift.com/subscription"><img src="https://img.shields.io/badge/Tidelift_and_Sonar-Enterprise_Support-FD3456?style=for-the-badge&amp;logo=sonar&amp;logoColor=white" alt="Get help from me on Tidelift"></a><br>üí°Subscribe for support guarantees covering <em>all</em> FLOSS dependencies!<br>üí°Tidelift is part of <a href="https://blog.tidelift.com/tidelift-joins-sonar">Sonar</a>!<br>üí°Tidelift pays maintainers to maintain the software you depend on!<br>üìä<code>@</code>Pointy Haired Boss: An <a href="https://tidelift.com/subscription">enterprise support</a> subscription is ‚Äú<a href="https://www.youtube.com/watch?v=dQw4w9WgXcQ">never gonna let you down</a>‚Äù, and <em>supports</em> open source maintainers!</td>
    </tr>
    <tr>
      <td>Comrade BDFL üéñÔ∏è</td>
      <td>
<a href="http://www.linkedin.com/in/peterboling"><img src="https://img.shields.io/badge/PeterBoling-LinkedIn-0B66C2?style=flat&amp;logo=newjapanprowrestling" alt="Follow Me on LinkedIn"></a> <a href="https://ruby.social/@galtzo"><img src="https://img.shields.io/mastodon/follow/109447111526622197?domain=https%3A%2F%2Fruby.social&amp;style=flat&amp;logo=mastodon&amp;label=Ruby%20%40galtzo" alt="Follow Me on Ruby.Social"></a> <a href="https://bsky.app/profile/galtzo.com"><img src="https://img.shields.io/badge/@galtzo.com-0285FF?style=flat&amp;logo=bluesky&amp;logoColor=white" alt="Follow Me on Bluesky"></a> <a href="http://www.railsbling.com/contact"><img src="https://img.shields.io/badge/Contact-BDFL-0093D0.svg?style=flat&amp;logo=rubyonrails&amp;logoColor=red" alt="Contact BDFL"></a> <a href="https://dev.to/galtzo"><img src="https://img.shields.io/badge/dev.to-0A0A0A?style=flat&amp;logo=devdotto&amp;logoColor=white" alt="My technical writing"></a>
</td>
    </tr>
    <tr>
      <td>
<code>...</code> üíñ</td>
      <td>
<a href="https://angel.co/u/peter-boling"><img src="https://img.shields.io/badge/peter--boling-orange?style=flat&amp;logo=wellfound" alt="Find Me on WellFound:"></a> <a href="https://www.crunchbase.com/person/peter-boling"><img src="https://img.shields.io/badge/peter--boling-purple?style=flat&amp;logo=crunchbase" alt="Find Me on CrunchBase"></a> <a href="https://linktr.ee/galtzo"><img src="https://img.shields.io/badge/galtzo-purple?style=flat&amp;logo=linktree" alt="My LinkTree"></a> <a href="https://about.me/peter.boling"><img src="https://img.shields.io/badge/about.me-0A0A0A?style=flat&amp;logo=aboutme&amp;logoColor=white" alt="More About Me"></a> <a href="https://codeberg.org/pboling">üßä</a> <a href="https://github.org/pboling">üêô</a>  <a href="https://sr.ht/~galtzo/">üõñ</a> <a href="https://gitlab.com/pboling">üß™</a>
</td>
    </tr>
  </tbody>
</table>

<h2 id="-installation">‚ú® Installation</h2>

<p>Install the gem and add to the application‚Äôs Gemfile by executing:</p>

<pre class="code ruby"><code class="ruby">$ bundle add appraisal2
</code></pre>

<p>If bundler is not being used to manage dependencies, install the gem by executing:</p>

<pre class="code ruby"><code class="ruby">$ gem install appraisal2
</code></pre>

<h3 id="in-a-rubygem-library">In a RubyGem library</h3>

<p>In your package‚Äôs <code>.gemspec</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_spec'>spec</span><span class='period'>.</span><span class='id identifier rubyid_add_development_dependency'>add_development_dependency</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>appraisal2</span><span class='tstring_end'>&quot;</span></span>
</code></pre>

<p>Note that gems must be bundled in the global namespace. Bundling gems to a<br>
local location or vendoring plugins is not fully supported. If you do not want to<br>
pollute the global namespace, one alternative is<br>
<a href="http://rvm.io/gemsets">RVM‚Äôs Gemsets</a>.</p>

<h3 id="-secure-installation">üîí Secure Installation</h3>

<p><code>appraisal2</code> is cryptographically signed, and has verifiable <a href="https://gitlab.com/appraisal-rb/appraisal2/-/tree/main/checksums">SHA-256 and SHA-512</a> checksums by<br>
<a href="https://github.com/pboling/stone_checksums">stone_checksums</a>. Be sure the gem you install hasn‚Äôt been tampered with<br>
by following the instructions below.</p>

<p>Add my public key (if you haven‚Äôt already, expires 2045-04-29) as a trusted certificate:</p>

<pre class="code language-console"><code class="language-console">gem cert --add &lt;(curl -Ls https://raw.github.com/appraisal-rb/appraisal2/main/certs/pboling.pem)
</code></pre>

<p>You only need to do that once.  Then proceed to install with:</p>

<pre class="code language-console"><code class="language-console">gem install appraisal2 -P MediumSecurity
</code></pre>

<p>The <code>MediumSecurity</code> trust profile will verify signed gems, but allow the installation of unsigned dependencies.</p>

<p>This is necessary because not all of <code>appraisal2</code>‚Äôs dependencies are signed, so we cannot use <code>HighSecurity</code>.</p>

<p>If you want to up your security game full-time:</p>

<pre class="code language-console"><code class="language-console">bundle config set --global trust-policy MediumSecurity
</code></pre>

<p>NOTE: Be prepared to track down certs for signed gems and add them the same way you added mine.</p>

<h2 id="-basic-setup">üîß Basic Setup</h2>

<p>Setting up appraisal2 requires an <code>Appraisals</code> file (similar to a <code>Gemfile</code>) in<br>
your project root, named ‚ÄúAppraisals‚Äù (note the case), and some slight changes<br>
to your project‚Äôs <code>Rakefile</code>.</p>

<p>An <code>Appraisals</code> file consists of several appraisal definitions. An appraisal<br>
definition is simply a list of gem dependencies. For example, to test with a<br>
few versions of Rails:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_appraise'>appraise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rails-3</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span>
  <span class='id identifier rubyid_gem'>gem</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rails</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>3.2.14</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>

<span class='id identifier rubyid_appraise'>appraise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rails-4</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span>
  <span class='id identifier rubyid_gem'>gem</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rails</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>4.0.0</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</code></pre>

<p>The dependencies in your <code>Appraisals</code> file are combined with dependencies in<br>
your <code>Gemfile</code>, so you don‚Äôt need to repeat anything that‚Äôs the same for each<br>
appraisal. If something is specified in both the Gemfile and an appraisal, the<br>
version from the appraisal takes precedence.</p>

<h2 id="Ô∏è-basic-usage">‚öíÔ∏è Basic Usage</h2>

<p>Once you‚Äôve configured the appraisals you want to use, you need to install the<br>
dependencies for each appraisal:</p>

<pre class="code ruby"><code class="ruby">$ bundle exec appraisal install
</code></pre>

<p>This will resolve, install, and lock the dependencies for that appraisal using<br>
bundler. Once you have your dependencies set up, you can run any command in a<br>
single appraisal:</p>

<pre class="code ruby"><code class="ruby">$ bundle exec appraisal rails-3 rake test
</code></pre>

<p>This will run <code>rake test</code> using the dependencies configured for Rails 3. You can<br>
also run each appraisal in turn:</p>

<pre class="code ruby"><code class="ruby">$ bundle exec appraisal rake test
</code></pre>

<p>If you want to use only the dependencies from your Gemfile, just run <code>rake
test</code> as normal. This allows you to keep running with the latest versions of<br>
your dependencies in quick test runs, but keep running the tests in older<br>
versions to check for regressions.</p>

<p>In the case that you want to run all the appraisals by default when you run<br>
<code>rake</code>, you can override your default Rake task by put this into your Rakefile:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>if</span> <span class='op'>!</span><span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>APPRAISAL_INITIALIZED</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>&amp;&amp;</span> <span class='const'>ENV</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CI</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>false</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_casecmp'>casecmp</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>false</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>==</span> <span class='int'>0</span>
  <span class='id identifier rubyid_task'>task</span> <span class='symbol'>:default</span> <span class='op'>=&gt;</span> <span class='symbol'>:appraisal</span>
<span class='kw'>end</span>
</code></pre>

<p>(Appraisal2 sets <code>APPRAISAL_INITIALIZED</code> environment variable when it runs your<br>
process. We put a check here to ensure that <code>appraisal rake</code> command should run<br>
your real default task, which usually is your <code>test</code> task.)</p>

<p>Note that this may conflict with your CI setup if you decide to split the test<br>
into multiple processes by Appraisal2 and you are using <code>rake</code> to run tests by<br>
default.</p>

<h3 id="commands">Commands</h3>

<pre class="code language-bash"><code class="language-bash">appraisal clean                  # Remove all generated gemfiles and lockfiles from gemfiles folder
appraisal generate               # Generate a gemfile for each appraisal
appraisal help [COMMAND]         # Describe available commands or one specific command
appraisal install                # Resolve and install dependencies for each appraisal
appraisal list                   # List the names of the defined appraisals
appraisal update [LIST_OF_GEMS]  # Remove all generated gemfiles and lockfiles, resolve, and install dependencies again
appraisal version                # Display the version and exit
</code></pre>

<h2 id="under-the-hood">Under the hood</h2>

<p>Running <code>appraisal install</code> generates a Gemfile for each appraisal by combining<br>
your root Gemfile with the specific requirements for each appraisal. These are<br>
stored in the <code>gemfiles</code> directory, and should be added to version control to<br>
ensure that versions within constraints of the Gemfile are always used.</p>

<p>When you prefix a command with <code>appraisal</code>, the command is run with the<br>
appropriate Gemfile for that appraisal, ensuring the correct dependencies<br>
are used.</p>

<h2 id="sharing-modular-gemfiles-between-appraisals">Sharing Modular Gemfiles between Appraisals</h2>

<p><em>New in appraisal2</em> (not possible in thoughtbot‚Äôs appraisal)</p>

<p>It is common for Appraisals to duplicate sets of gems, and sometimes it<br>
makes sense to DRY this up into a shared, modular, gemfile.<br>
In a scenario where you do not load your main Gemfile in your Appraisals,<br>
but you want to declare your various gem sets for e.g.<br>
<code>%w(coverage test documentation audit)</code> once each, you can re-use the same<br>
modular gemfiles for local development by referencing them from the main<br>
Gemfile.</p>

<p>To do this, use the <code>eval_gemfile</code> declaration within the necessary<br>
<code>appraise</code> block in your <code>Appraisals</code> file, which will behave the same as<br>
<code>eval_gemfile</code> does in a normal Gemfile.</p>

<h3 id="example-usage">Example Usage</h3>

<p>You could put your modular gemfiles in the <code>gemfiles</code> directory, or nest<br>
them in <code>gemfiles/modular/*</code>, which will be used for this example.</p>

<p><strong>Gemfile</strong></p>
<pre class="code language-ruby"><code class="language-ruby">eval_gemfile &quot;gemfiles/modular/audit.gemfile&quot;
</code></pre>

<p><strong>gemfiles/modular/audit.gemfile</strong></p>
<pre class="code language-ruby"><code class="language-ruby"># Many gems are dropping support for Ruby &lt; 3.1,
#   so we only want to run our security audit in CI on Ruby 3.1+
gem &quot;bundler-audit&quot;, &quot;~&gt; 0.9.2&quot;
# And other security audit gems...
</code></pre>

<p><strong>Appraisals</strong></p>
<pre class="code language-ruby"><code class="language-ruby">appraise &quot;ruby-2-7&quot; do
  gem &quot;dummy&quot;
end

appraise &quot;ruby-3-0&quot; do
  gem &quot;dummy&quot;
end

appraise &quot;ruby-3-1&quot; do
  gem &quot;dummy&quot;
  eval_gemfile &quot;modular/audit.gemfile&quot;
end

appraise &quot;ruby-3-2&quot; do
  gem &quot;dummy&quot;
  eval_gemfile &quot;modular/audit.gemfile&quot;
end

appraise &quot;ruby-3-3&quot; do
  gem &quot;dummy&quot;
  eval_gemfile &quot;modular/audit.gemfile&quot;
end

appraise &quot;ruby-3-4&quot; do
  gem &quot;dummy&quot;
  eval_gemfile &quot;modular/audit.gemfile&quot;
end
</code></pre>

<p><strong>Appraisal2.root.gemfile</strong></p>
<pre class="code language-ruby"><code class="language-ruby">source &quot;https://rubygems.org&quot;

# Appraisal2 Root Gemfile is for running appraisal to generate the Appraisal2 Gemfiles
# We do not load the standard Gemfile, as it is tailored for local development,
#   while appraisals are tailored for CI.

gemspec

gem &quot;appraisal2&quot;
</code></pre>

<p>Now when you need to update your appraisals:</p>
<pre class="code language-shell"><code class="language-shell">BUNDLE_GEMFILE=Appraisal2.root.gemfile bundle exec appraisal update
</code></pre>

<h3 id="removing-gems-using-appraisal2">Removing Gems using Appraisal2</h3>

<p>It is common while managing multiple Gemfiles for dependencies to become deprecated and no<br>
longer necessary, meaning they need to be removed from the Gemfile for a specific <code>appraisal</code>.<br>
To do this, use the <code>remove_gem</code> declaration within the necessary <code>appraise</code> block in your<br>
<code>Appraisals</code> file.</p>

<h4 id="example-usage-1">Example Usage</h4>

<p><strong>Gemfile</strong></p>
<pre class="code language-ruby"><code class="language-ruby">gem &quot;rails&quot;, &quot;~&gt; 4.2&quot;

group :test do
  gem &quot;rspec&quot;, &quot;~&gt; 4.0&quot;
  gem &quot;test_after_commit&quot;
end
</code></pre>

<p><strong>Appraisals</strong></p>
<pre class="code language-ruby"><code class="language-ruby">appraise &quot;rails-5&quot; do
  gem &quot;rails&quot;, &quot;~&gt; 5.2&quot;

  group :test do
    remove_gem &quot;test_after_commit&quot;
  end
end
</code></pre>

<p>Using the <code>Appraisals</code> file defined above, this is what the resulting <code>Gemfile</code> will look like:</p>
<pre class="code language-ruby"><code class="language-ruby">gem &quot;rails&quot;, &quot;~&gt; 5.2&quot;

group :test do
  gem &quot;rspec&quot;, &quot;~&gt; 4.0&quot;
end
</code></pre>

<h3 id="customization">Customization</h3>

<p>It is possible to customize the generated Gemfiles by adding a <code>customize_gemfiles</code> block to<br>
your <code>Appraisals</code> file. The block must contain a hash of key/value pairs. Currently supported<br>
customizations include:</p>
<ul>
  <li>heading: a string that by default adds ‚Äú# This file was generated by Appraisal2‚Äù to the top of each Gemfile, (the string will be commented for you)</li>
  <li>single_quotes: a boolean that controls if strings are single quoted in each Gemfile, defaults to false</li>
</ul>

<p>You can also provide variables for substitution in the heading, based on each appraisal. Currently supported variables:</p>
<ul>
  <li>
<code>%{appraisal}</code>: Becomes the name of each appraisal, e.g. <code>rails-3</code>
</li>
  <li>
<code>%{gemfile}</code>: Becomes the filename of each gemfile, e.g. <code>rails-3.gemfile</code>
</li>
  <li>
<code>%{gemfile_path}</code>: Becomes the full path of each gemfile, e.g. <code>/path/to/project/gemfiles/rails-3.gemfile</code>
</li>
  <li>
<code>%{lockfile}</code>: Becomes the filename of each lockfile, e.g. <code>rails-3.gemfile.lock</code>
</li>
  <li>
<code>%{lockfile_path}</code>: Becomes the full path of each lockfile, e.g. <code>/path/to/project/gemfiles/rails-3.gemfile.lock</code>
</li>
  <li>
<code>%{relative_gemfile_path}</code>: Becomes the relative path of each gemfile, e.g. <code>gemfiles/rails-3.gemfile</code>
</li>
  <li>
<code>%{relative_lockfile_path}</code>: Becomes the relative path of each lockfile, e.g. <code>gemfiles/rails-3.gemfile.lock</code>
</li>
</ul>

<h4 id="example-usage-2">Example Usage</h4>

<p><strong>Appraisals</strong></p>
<pre class="code language-ruby"><code class="language-ruby">customize_gemfiles do
  {
    :single_quotes =&gt; true,
    :heading =&gt; &lt;&lt;-HEADING,
frozen_string_literal: true

`%{gemfile}` has been generated by Appraisal2, do NOT modify it or `%{lockfile}` directly!
Make the changes to the &quot;%{appraisal}&quot; block in `Appraisals` instead. See the conventions at https://example.com/
    HEADING
  }
end

appraise &quot;rails-3&quot; do
  gem &quot;rails&quot;, &quot;3.2.14&quot;
end
</code></pre>

<p>Using the <code>Appraisals</code> file defined above, this is what the resulting <code>Gemfile</code> will look like:</p>
<pre class="code language-ruby"><code class="language-ruby"># frozen_string_literal: true

# `rails-3.gemfile` has been generated by Appraisal2, do NOT modify it or `rails-3.gemfile.lock` directly!
# Make the changes to the &quot;rails-3&quot; block in `Appraisals` instead. See the conventions at https://example.com/

gem &quot;rails&quot;, &quot;3.2.14&quot;
</code></pre>

<h3 id="version-control">Version Control</h3>

<p>When using Appraisal2, we recommend you check in the Gemfiles that Appraisal2<br>
generates within the gemfiles directory, but exclude the lockfiles there<br>
(<code>*.gemfile.lock</code>). The Gemfiles are useful when running your tests against a<br>
continuous integration server.</p>

<p>Additionally, the Bundler team <a href="https://github.com/rubygems/bundler-site/pull/501">officially recommends</a><br>
committing the main <code>Gemfile.lock</code> for <strong>both</strong> gems <strong>and</strong> libraries.</p>

<h3 id="circle-ci-integration">Circle CI Integration</h3>

<p>In Circle CI you can override the default testing behavior.<br>
You can configure Appraisal2 to execute your tests.</p>

<p>In order to this you can put the following configuration in your circle.yml file:</p>

<pre class="code language-yml"><code class="language-yml">dependencies:
  post:
    - bundle exec appraisal install
test:
  pre:
    - bundle exec appraisal rake db:create
    - bundle exec appraisal rake db:migrate
  override:
    - bundle exec appraisal rspec
</code></pre>

<p>Notice that we are running an rspec suite. You can customize your testing<br>
command in the <code>override</code> section and use your favourite one.</p>

<h2 id="-security">üîê Security</h2>

<p>See <a href="file.SECURITY.html" title="SECURITY.md">SECURITY.md</a>.</p>

<h2 id="-contributing">ü§ù Contributing</h2>

<p>If you need some ideas of where to help, you could work on adding more code coverage,<br>
or if it is already üíØ (see <a href="#code-coverage">below</a>) check <a href="https://github.com/appraisal-rb/appraisal2/issues">issues</a>, or <a href="https://github.com/appraisal-rb/appraisal2/pulls">PRs</a>,<br>
or use the gem and think about how it could be better.</p>

<p>We <a href="https://keepachangelog.com/en/1.0.0/"><img src="https://img.shields.io/badge/keep--a--changelog-1.0.0-34495e.svg?style=flat" alt="Keep A Changelog"></a> so if you make changes, remember to update it.</p>

<p>See <a href="file.CONTRIBUTING.html" title="CONTRIBUTING.md">CONTRIBUTING.md</a> for more detailed instructions.</p>

<h3 id="-release-instructions">üöÄ Release Instructions</h3>

<p>See <a href="file.CONTRIBUTING.html" title="CONTRIBUTING.md">CONTRIBUTING.md</a>.</p>

<h3 id="code-coverage">Code Coverage</h3>

<p><a href="https://coveralls.io/github/appraisal-rb/appraisal2?branch=main"><img src="https://coveralls.io/repos/github/appraisal-rb/appraisal2/badge.svg?branch=main" alt="Coveralls Test Coverage"></a></p>

<h3 id="-code-of-conduct">ü™á Code of Conduct</h3>

<p>Everyone interacting with this project‚Äôs codebases, issue trackers,<br>
chat rooms and mailing lists agrees to follow the <a href="file.CODE_OF_CONDUCT.html" title="&lt;img src=&quot;https://img.shields.io/badge/Contributor_Covenant-2.1-259D6C.svg&quot; alt=&quot;Contributor Covenant 2.1&quot;&gt;"><img src="https://img.shields.io/badge/Contributor_Covenant-2.1-259D6C.svg" alt="Contributor Covenant 2.1"></a>.</p>

<h2 id="-contributors">üåà Contributors</h2>

<p><a href="https://github.com/appraisal-rb/appraisal2/graphs/contributors"><img src="https://contrib.rocks/image?repo=appraisal-rb/appraisal2" alt="Contributors"></a></p>

<p>Made with <a href="https://contrib.rocks">contributors-img</a>.</p>

<h2 id="Ô∏è-star-history">‚≠êÔ∏è Star History</h2>

<p><a href="https://star-history.com/#appraisal-rb/appraisal2&amp;Date"></a></p>
<picture>
   <source media="(prefers-color-scheme: dark)" srcset="https://api.star-history.com/svg?repos=appraisal-rb/appraisal2&amp;type=Date&amp;theme=dark"></source>
   <source media="(prefers-color-scheme: light)" srcset="https://api.star-history.com/svg?repos=appraisal-rb/appraisal2&amp;type=Date"></source>
   <img alt="Star History Chart" src="https://api.star-history.com/svg?repos=appraisal-rb/appraisal2&amp;type=Date">
 </picture>
<p>&lt;/a&gt;</p>

<h2 id="-versioning">üìå Versioning</h2>

<p>This Library adheres to <a href="https://semver.org/spec/v2.0.0.html"><img src="https://img.shields.io/badge/semver-2.0.0-259D6C.svg?style=flat" alt="Semantic Versioning 2.0.0"></a>.<br>
Violations of this scheme should be reported as bugs.<br>
Specifically, if a minor or patch version is released that breaks backward compatibility,<br>
a new version should be immediately released that restores compatibility.<br>
Breaking changes to the public API will only be introduced with new major versions.</p>

<h3 id="-is-platform-support-part-of-the-public-api">üìå Is ‚ÄúPlatform Support‚Äù part of the public API?</h3>

<p>Yes.  But I‚Äôm obligated to include notes‚Ä¶</p>

<p>SemVer should, but doesn‚Äôt explicitly, say that dropping support for specific Platforms<br>
is a <em>breaking change</em> to an API.<br>
It is obvious to many, but not all, and since the spec is silent, the bike shedding is endless.</p>

<blockquote>
  <p>dropping support for a platform is both obviously and objectively a breaking change</p>
</blockquote>

<ul>
  <li>Jordan Harband (@ljharb, maintainer of SemVer) <a href="https://github.com/semver/semver/issues/716#issuecomment-869336139">in SemVer issue 716</a>
</li>
</ul>

<p>To get a better understanding of how SemVer is intended to work over a project‚Äôs lifetime,<br>
read this article from the creator of SemVer:</p>

<ul>
  <li><a href="https://tom.preston-werner.com/2022/05/23/major-version-numbers-are-not-sacred.html">‚ÄúMajor Version Numbers are Not Sacred‚Äù</a></li>
</ul>

<p>As a result of this policy, and the interpretive lens used by the maintainer,<br>
you can (and should) specify a dependency on these libraries using<br>
the <a href="http://guides.rubygems.org/patterns/#pessimistic-version-constraint">Pessimistic Version Constraint</a> with two digits of precision.</p>

<p>For example:</p>

<pre class="code language-ruby"><code class="language-ruby">spec.add_dependency(&quot;appraisal2&quot;, &quot;~&gt; 3.0&quot;)
</code></pre>

<p>See <a href="file.CHANGELOG.html" title="CHANGELOG.md">CHANGELOG.md</a> for a list of releases.</p>

<h2 id="-license">üìÑ License</h2>

<p>The gem is available as open source under the terms of<br>
the <a href="file.LICENSE.html" title="MIT License">MIT License</a> <a href="https://opensource.org/licenses/MIT"><img src="https://img.shields.io/badge/License-MIT-259D6C.svg" alt="License: MIT"></a>.<br>
See <a href="file.LICENSE.html" title="LICENSE.txt">LICENSE.txt</a> for the official <a href="https://opensource.stackexchange.com/questions/5778/why-do-licenses-such-as-the-mit-license-specify-a-single-year">Copyright Notice</a>.</p>

<h3 id="-copyright">¬© Copyright</h3>

<ul>
    <li>
        Copyright (c) 2024-2025 Peter H.¬†Boling, of
        <a href="https://discord.gg/3qme4XHNKN">
            Galtzo.com
            <picture>
              <img src="https://github.com/galtzo-floss/shields-badge/raw/main/docs/images/logo/galtzo-floss-logos-wordless.svg?raw=true" alt="Galtzo.com Logo by Aboling0, CC BY-SA 4.0" width="24">
            </picture>
        </a>, and Appraisal2 contributors
    </li>
    <li>Copyright (c) 2010-2013 Joe Ferris and thoughtbot, inc.</li>
</ul>

<h2 id="-one-more-thing">ü§ë One more thing</h2>

<p>Having arrived at the bottom of the page, please endure a final supplication.<br>
The primary maintainer of this gem, Peter Boling, wants<br>
Ruby to be a great place for people to solve problems, big and small.<br>
Please consider supporting his efforts via the giant yellow link below,<br>
or one of smaller ones, depending on button size preference.</p>

<p><a href="https://www.buymeacoffee.com/pboling"><img src="https://img.buymeacoffee.com/button-api/?text=Buy%20me%20a%20latte&amp;emoji=&amp;slug=pboling&amp;button_colour=FFDD00&amp;font_colour=000000&amp;font_family=Cookie&amp;outline_colour=000000&amp;coffee_colour=ffffff" alt="Buy me a latte"></a></p>

<p><a href="https://liberapay.com/pboling/donate"><img src="https://img.shields.io/liberapay/goal/pboling.svg?logo=liberapay" alt="Liberapay Goal Progress"></a> <a href="https://github.com/sponsors/pboling"><img src="https://img.shields.io/badge/Sponsor_Me!-pboling.svg?style=social&amp;logo=github" alt="Sponsor Me on Github"></a> <a href="https://polar.sh/pboling"><img src="https://img.shields.io/badge/polar-donate-yellow.svg" alt="Donate on Polar"></a> <a href="https://ko-fi.com/O5O86SNP4"><img src="https://img.shields.io/badge/a_more_different_coffee-%E2%9C%93-yellow.svg" alt="Donate to my FLOSS or refugee efforts at ko-fi.com"></a> <a href="https://patreon.com/galtzo"><img src="https://img.shields.io/badge/patreon-donate-yellow.svg" alt="Donate to my FLOSS or refugee efforts using Patreon"></a></p>

<p>P.S. If you need helpÔ∏è, or want to say thanks, üëá Join the Discord.</p>

<p><a href="https://discord.gg/3qme4XHNKN"><img src="https://img.shields.io/discord/1373797679469170758?style=for-the-badge" alt="Live Chat on Discord"></a></p>

<details>
  <summary>
    Disabled Badges
  </summary>

Badges for failing services.
Bug reports filed.
Once fixed, these should look much nicer.

[![CodeCov Test Coverage][üîëcodecovi‚ôªÔ∏è]][üîëcodecov]
[![Coverage Graph][üîëcodecov-g‚ôªÔ∏è]][üîëcodecov]

</details>
</div></div>

      <div id="footer">
  Generated on Sun Jul 27 23:16:36 2025 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.37 (ruby-3.4.5).
</div>

    </div>
  </body>
</html>